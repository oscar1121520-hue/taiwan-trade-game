<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§èˆªæµ·æ™‚ä»£ï¼šå°ç£è½‰å£è²¿æ˜“æŒ‘æˆ°</title>
    <style>
        :root { --main-brown: #5d4037; --bg-color: #f4e4bc; }
        body { font-family: "Microsoft JhengHei", sans-serif; background-color: var(--bg-color); margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; touch-action: manipulation; }
        
        h2 { margin: 5px 0; color: var(--main-brown); font-size: 1.4rem; }
        #timer { font-size: 1.2rem; font-weight: bold; color: #d32f2f; margin-bottom: 10px; }
        
        /* éŠæˆ²å€åŸŸå¸ƒå±€ */
        .game-board { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; width: 100%; max-width: 900px; }
        .region-card { background: #fffdf5; border: 2px solid var(--main-brown); border-radius: 8px; padding: 8px; box-shadow: 2px 2px 5px rgba(0,0,0,0.1); }
        .region-title { text-align: center; font-weight: bold; background: #8d6e63; color: white; padding: 3px; border-radius: 4px; margin-bottom: 8px; font-size: 0.9rem; }
        
        .drop-zone { min-height: 50px; background: #fdf5e6; border: 1px solid #d7ccc8; margin: 4px 0; padding: 4px; border-radius: 4px; display: flex; flex-wrap: wrap; gap: 4px; transition: background 0.3s; cursor: pointer; }
        .drop-zone.active { background: #fff9c4; border: 2px solid #fbc02d; }
        .label { font-size: 0.75rem; color: #5d4037; font-weight: bold; margin-top: 5px; }

        /* ä¸‹æ–¹é¸å–® */
        .items-pool { background: #fff; border: 2px solid var(--main-brown); padding: 12px; border-radius: 8px; margin: 15px 0; width: 95%; max-width: 880px; display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; }
        
        /* ç‰©å“æ¨£å¼ */
        .item { background: #8d6e63; color: white; padding: 6px 12px; border-radius: 4px; cursor: pointer; font-size: 14px; user-select: none; border: 2px solid transparent; }
        .item.selected { background: #fbc02d; color: #333; border: 2px solid #5d4037; transform: scale(1.1); }
        
        #submit-btn { padding: 12px 40px; font-size: 1.1rem; background-color: #388e3c; color: white; border: none; border-radius: 25px; cursor: pointer; box-shadow: 0 4px 0 #1b5e20; }
        #submit-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #1b5e20; }
    </style>
</head>
<body>

    <h2>ğŸš¢ å°ç£è½‰å£è²¿æ˜“æŒ‘æˆ°</h2>
    <div id="timer">å‰©é¤˜æ™‚é–“ï¼š02:00</div>

    <div class="game-board">
        <div class="region-card">
            <div class="region-title">ğŸ‡¨ğŸ‡³ ä¸­åœ‹èˆªç·š</div>
            <div class="label">å°ç£è¼¸å‡º (2é …)</div>
            <div class="drop-zone" id="tw-to-cn" onclick="placeItem(this)"></div>
            <div class="label">å¾ä¸­åœ‹è¼¸å…¥ (3é …)</div>
            <div class="drop-zone" id="cn-to-tw" onclick="placeItem(this)"></div>
        </div>
        <div class="region-card">
            <div class="region-title">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èˆªç·š</div>
            <div class="label">å°ç£è¼¸å‡º (2é …)</div>
            <div class="drop-zone" id="tw-to-jp" onclick="placeItem(this)"></div>
            <div class="label">å¾æ—¥æœ¬è¼¸å…¥ (2é …)</div>
            <div class="drop-zone" id="jp-to-tw" onclick="placeItem(this)"></div>
        </div>
        <div class="region-card">
            <div class="region-title">ğŸŒ´ æ±å—äºèˆªç·š</div>
            <div class="label">å°ç£è¼¸å‡º (3é …)</div>
            <div class="drop-zone" id="tw-to-sea" onclick="placeItem(this)"></div>
            <div class="label">å¾æ±å—äºè¼¸å…¥ (3é …)</div>
            <div class="drop-zone" id="sea-to-tw" onclick="placeItem(this)"></div>
        </div>
    </div>

    <div class="items-pool" id="items-pool"></div>
    <button id="submit-btn" onclick="checkAnswers()">æäº¤ç­”æ¡ˆ</button>

    <script>
        const correctAnswers = {
            "tw-to-cn": ["é¦™æ–™", "éŠ€"], "cn-to-tw": ["ç“·å™¨", "çµ²ç¶¢", "è—¥æ"],
            "tw-to-sea": ["è”—ç³–", "ç“·å™¨", "çµ²ç¶¢"], "sea-to-tw": ["è»éœ€å“", "é¦™æ–™", "å¸ƒåŒ¹"],
            "tw-to-jp": ["è”—ç³–", "é¹¿çš®"], "jp-to-tw": ["éŠ€", "è»éœ€å“"]
        };
        const allItems = ["é¦™æ–™", "éŠ€", "ç“·å™¨", "çµ²ç¶¢", "è—¥æ", "è”—ç³–", "ç“·å™¨", "çµ²ç¶¢", "è»éœ€å“", "é¦™æ–™", "å¸ƒåŒ¹", "è”—ç³–", "é¹¿çš®", "éŠ€", "è»éœ€å“"];
        let selectedItem = null;

        function initGame() {
            const pool = document.getElementById('items-pool');
            allItems.sort(() => Math.random() - 0.5).forEach((name, i) => {
                const div = document.createElement('div');
                div.className = 'item'; div.innerText = name;
                div.onclick = (e) => {
                    e.stopPropagation();
                    if (selectedItem) selectedItem.classList.remove('selected');
                    if (div.parentElement.id === 'items-pool') {
                        selectedItem = div;
                        div.classList.add('selected');
                    } else {
                        // å¦‚æœé»æ“Šå·²æ”¾å…¥çš„ï¼Œå‰‡æ”¶å›
                        pool.appendChild(div);
                        selectedItem = null;
                    }
                };
                pool.appendChild(div);
            });
            startTimer();
        }

        function placeItem(zone) {
            if (selectedItem) {
                zone.appendChild(selectedItem);
                selectedItem.classList.remove('selected');
                selectedItem = null;
            }
        }

        function startTimer() {
            let time = 120;
            const timerObj = setInterval(() => {
                time--;
                document.getElementById('timer').innerText = `å‰©é¤˜æ™‚é–“ï¼š0${Math.floor(time/60)}:${(time%60).toString().padStart(2,'0')}`;
                if(time <= 0) { clearInterval(timerObj); alert("æ™‚é–“åˆ°ï¼æŒ‘æˆ°å¤±æ•—ã€‚"); location.reload(); }
            }, 1000);
        }

        function checkAnswers() {
            let win = true;
            for (let id in correctAnswers) {
                const current = Array.from(document.getElementById(id).children).map(i => i.innerText).sort();
                const target = [...correctAnswers[id]].sort();
                if (current.join(',') !== target.join(',')) { win = false; break; }
            }
            if(win) alert("ğŸ‰ å¤ªå²å®³äº†ï¼å®Œå…¨æ­£ç¢ºï¼æ‚¨æ˜¯å¤§èˆªæµ·æ™‚ä»£çš„è²¿æ˜“å°ˆå®¶ï¼");
            else alert("âŒ ç­”æ¡ˆé‚„æœ‰é»éŒ¯èª¤ï¼Œæˆ–æ˜¯é‚„æ²’æ”¾å®Œå–”ï¼Œå†è©¦è©¦çœ‹ï¼");
        }
        window.onload = initGame;
    </script>
</body>
</html>