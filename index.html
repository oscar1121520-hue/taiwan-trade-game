<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§èˆªæµ·æ™‚ä»£ï¼šå°ç£è½‰å£è²¿æ˜“æŒ‘æˆ° (é»æ“Šå¼)</title>
    <style>
        :root { --main-brown: #5d4037; --bg-color: #f4e4bc; }
        body { font-family: "Microsoft JhengHei", sans-serif; background-color: var(--bg-color); margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; touch-action: manipulation; }
        
        h2 { margin: 10px 0; color: var(--main-brown); font-size: 1.5rem; }
        #timer { font-size: 1.3rem; font-weight: bold; color: #d32f2f; margin-bottom: 15px; }
        
        /* ä½ˆå±€ä¿®æ­£ï¼šç¢ºä¿ä¸‰å€‹åœ‹å®¶é½Šé«˜ */
        .game-board { 
            display: flex; 
            justify-content: center; 
            align-items: stretch; /* å¼·åˆ¶æ‰€æœ‰å¡ç‰‡æ‹‰ä¼¸è‡³ç›¸åŒé«˜åº¦ */
            gap: 12px; 
            width: 98%; 
            max-width: 1000px; 
        }
        
        .region-card { 
            background: #fffdf5; 
            border: 2px solid var(--main-brown); 
            border-radius: 8px; 
            padding: 12px; 
            flex: 1; /* å¹³åˆ†å¯¬åº¦ */
            box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column; 
        }
        
        .region-title { text-align: center; font-weight: bold; background: #8d6e63; color: white; padding: 6px; border-radius: 4px; margin-bottom: 10px; }
        
        .drop-zone { 
            flex-grow: 1; /* æ¡†æ ¼è‡ªå‹•å¡«æ»¿å‰©é¤˜é«˜åº¦ï¼Œä¿æŒå°é½Š */
            min-height: 60px; 
            background: #fdf5e6; 
            border: 1px solid #d7ccc8; 
            margin: 5px 0; 
            padding: 5px; 
            border-radius: 4px; 
            display: flex; 
            flex-wrap: wrap; 
            gap: 5px; 
            cursor: pointer;
            transition: background 0.3s;
        }
        .drop-zone:hover { background: #f5ecd5; }
        .label { font-size: 0.85rem; color: #5d4037; font-weight: bold; margin-top: 10px; }

        /* ä¸‹æ–¹é¸å–® */
        .items-pool { 
            background: #fff; 
            border: 2px solid var(--main-brown); 
            padding: 15px; 
            border-radius: 8px; 
            margin: 20px 0; 
            width: 95%; 
            max-width: 900px; 
            display: flex; 
            flex-wrap: wrap; 
            gap: 8px; 
            justify-content: center; 
            min-height: 50px;
        }
        
        /* ç‰©å“æ¨£å¼ */
        .item { 
            background: #8d6e63; 
            color: white; 
            padding: 8px 14px; 
            border-radius: 4px; 
            cursor: pointer; 
            font-size: 14px; 
            user-select: none; 
            border: 2px solid transparent;
            transition: transform 0.2s, background 0.2s;
        }
        .item.selected { 
            background: #fbc02d; 
            color: #333; 
            border: 2px solid #5d4037; 
            transform: scale(1.1); 
        }
        
        #submit-btn { padding: 12px 60px; font-size: 1.2rem; background-color: #388e3c; color: white; border: none; border-radius: 30px; cursor: pointer; box-shadow: 0 4px 0 #1b5e20; margin-bottom: 30px; }
        #submit-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #1b5e20; }
    </style>
</head>
<body>

    <h2>ğŸš¢ å¤§èˆªæµ·æ™‚ä»£ï¼šå°ç£è½‰å£è²¿æ˜“æŒ‘æˆ°</h2>
    <div id="timer">å‰©é¤˜æ™‚é–“ï¼š02:00</div>

    <div class="game-board">
        <div class="region-card">
            <div class="region-title">ğŸ‡¨ğŸ‡³ ä¸­åœ‹èˆªç·š</div>
            <div class="label">å°ç£è¼¸å‡ºè‡³ä¸­åœ‹ (2é …)</div>
            <div class="drop-zone" id="tw-to-cn" onclick="placeItem(this)"></div>
            <div class="label">å¾ä¸­åœ‹è¼¸å…¥å°ç£ (3é …)</div>
            <div class="drop-zone" id="cn-to-tw" onclick="placeItem(this)"></div>
        </div>
        <div class="region-card">
            <div class="region-title">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èˆªç·š</div>
            <div class="label">å°ç£è¼¸å‡ºè‡³æ—¥æœ¬ (2é …)</div>
            <div class="drop-zone" id="tw-to-jp" onclick="placeItem(this)"></div>
            <div class="label">å¾æ—¥æœ¬è¼¸å…¥å°ç£ (2é …)</div>
            <div class="drop-zone" id="jp-to-tw" onclick="placeItem(this)"></div>
        </div>
        <div class="region-card">
            <div class="region-title">ğŸŒ´ æ±å—äºèˆªç·š</div>
            <div class="label">å°ç£è¼¸å‡ºè‡³æ±å—äº (3é …)</div>
            <div class="drop-zone" id="tw-to-sea" onclick="placeItem(this)"></div>
            <div class="label">å¾æ±å—äºè¼¸å…¥å°ç£ (3é …)</div>
            <div class="drop-zone" id="sea-to-tw" onclick="placeItem(this)"></div>
        </div>
    </div>

    <div class="items-pool" id="items-pool" onclick="placeItem(this)"></div>
    <button id="submit-btn" onclick="checkAnswers()">æäº¤ç­”æ¡ˆ</button>

    <script>
        const correctAnswers = {
            "tw-to-cn": ["é¦™æ–™", "éŠ€"], "cn-to-tw": ["ç“·å™¨", "çµ²ç¶¢", "è—¥æ"],
            "tw-to-sea": ["è”—ç³–", "ç“·å™¨", "çµ²ç¶¢"], "sea-to-tw": ["è»éœ€å“", "é¦™æ–™", "å¸ƒåŒ¹"],
            "tw-to-jp": ["è”—ç³–", "é¹¿çš®"], "jp-to-tw": ["éŠ€", "è»éœ€å“"]
        };
        const allItems = ["é¦™æ–™", "éŠ€", "ç“·å™¨", "çµ²ç¶¢", "è—¥æ", "è”—ç³–", "ç“·å™¨", "çµ²ç¶¢", "è»éœ€å“", "é¦™æ–™", "å¸ƒåŒ¹", "è”—ç³–", "é¹¿çš®", "éŠ€", "è»éœ€å“"];
        let selectedItem = null;

        function initGame() {
            const pool = document.getElementById('items-pool');
            allItems.sort(() => Math.random() - 0.5).forEach((name, i) => {
                const div = document.createElement('div');
                div.className = 'item'; div.innerText = name;
                div.onclick = (e) => {
                    e.stopPropagation(); // é˜²æ­¢è§¸ç™¼çˆ¶å±¤çš„é»æ“Šäº‹ä»¶
                    if (selectedItem) selectedItem.classList.remove('selected');
                    
                    // å¦‚æœé»æ“Šçš„æ˜¯å·²ç¶“é¸ä¸­çš„ï¼Œå°±å–æ¶ˆé¸å–
                    if (selectedItem === div) {
                        selectedItem = null;
                    } else {
                        selectedItem = div;
                        div.classList.add('selected');
                    }
                };
                pool.appendChild(div);
            });
            startTimer();
        }

        // æ”¾ç½®ç‰©å“çš„é‚è¼¯
        function placeItem(zone) {
            if (selectedItem) {
                zone.appendChild(selectedItem);
                selectedItem.classList.remove('selected');
                selectedItem = null;
            }
        }

        function startTimer() {
            let time = 120;
            const timerObj = setInterval(() => {
                time--;
                document.getElementById('timer').innerText = `å‰©é¤˜æ™‚é–“ï¼š0${Math.floor(time/60)}:${(time%60).toString().padStart(2,'0')}`;
                if(time <= 0) { clearInterval(timerObj); alert("æ™‚é–“åˆ°ï¼æŒ‘æˆ°å¤±æ•—ã€‚"); location.reload(); }
            }, 1000);
        }

        function checkAnswers() {
            let win = true;
            for (let id in correctAnswers) {
                const zone = document.getElementById(id);
                if (!zone) continue;
                const current = Array.from(zone.children).map(i => i.innerText).sort();
                const target = [...correctAnswers[id]].sort();
                if (current.join(',') !== target.join(',')) { win = false; break; }
            }
            if(win) alert("ğŸ‰ å¤ªæ£’äº†ï¼å®Œå…¨æ­£ç¢ºï¼");
            else alert("âŒ å…§å®¹æœ‰èª¤æˆ–å°šæœªå®Œæˆï¼Œè«‹æª¢æŸ¥çœ‹çœ‹ï¼");
        }
        window.onload = initGame;
    </script>
</body>
</html>
