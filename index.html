<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤§èˆªæµ·æ™‚ä»£ï¼šå°ç£è½‰å£è²¿æ˜“æŒ‘æˆ° (æ‹–æ‹‰ç‰ˆ)</title>
    <style>
        :root { --main-brown: #5d4037; --bg-color: #f4e4bc; }
        body { font-family: "Microsoft JhengHei", sans-serif; background-color: var(--bg-color); margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        h2 { margin: 10px 0; color: var(--main-brown); font-size: 1.5rem; }
        #timer { font-size: 1.3rem; font-weight: bold; color: #d32f2f; margin-bottom: 15px; }
        
        /* å¸ƒå±€ä¿®æ­£ï¼šç¢ºä¿ä¸‰å€‹åœ‹å®¶é½Šé«˜ */
        .game-board { 
            display: flex; 
            justify-content: center; 
            align-items: stretch; /* é—œéµï¼šå¼·åˆ¶å­å…ƒç´ æ‹‰ä¼¸åˆ°ç›¸åŒé«˜åº¦ */
            gap: 15px; 
            width: 98%; 
            max-width: 1000px; 
        }
        
        .region-card { 
            background: #fffdf5; 
            border: 2px solid var(--main-brown); 
            border-radius: 8px; 
            padding: 12px; 
            flex: 1; /* å¹³åˆ†å¯¬åº¦ */
            box-shadow: 2px 2px 8px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column; /* è®“å…§éƒ¨å‚ç›´æ’åˆ— */
        }
        
        .region-title { text-align: center; font-weight: bold; background: #8d6e63; color: white; padding: 6px; border-radius: 4px; margin-bottom: 10px; }
        
        .drop-zone { 
            flex-grow: 1; /* è®“æ¡†æ ¼è‡ªå‹•å¡«æ»¿å‰©é¤˜é«˜åº¦ */
            min-height: 80px; 
            background: #fdf5e6; 
            border: 2px dashed #bcaaa4; 
            margin: 5px 0; 
            padding: 8px; 
            border-radius: 4px; 
            display: flex; 
            flex-wrap: wrap; 
            align-content: flex-start;
            gap: 6px; 
            transition: background 0.2s;
        }
        .drop-zone.drag-over { background: #efebe9; border-color: #5d4037; }

        .label { font-size: 0.85rem; color: #5d4037; font-weight: bold; margin-top: 10px; }

        /* ä¸‹æ–¹ç‰©å“æ±  */
        .items-pool { 
            background: #fff; 
            border: 2px solid var(--main-brown); 
            padding: 20px; 
            border-radius: 8px; 
            margin: 20px 0; 
            width: 95%; 
            max-width: 900px; 
            display: flex; 
            flex-wrap: wrap; 
            gap: 10px; 
            justify-content: center; 
            min-height: 60px;
        }
        
        .item { 
            background: #8d6e63; 
            color: white; 
            padding: 8px 16px; 
            border-radius: 4px; 
            cursor: grab; 
            font-size: 14px; 
            user-select: none; 
            box-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }
        .item:active { cursor: grabbing; }
        
        #submit-btn { padding: 12px 60px; font-size: 1.2rem; background-color: #388e3c; color: white; border: none; border-radius: 30px; cursor: pointer; box-shadow: 0 4px 0 #1b5e20; margin-bottom: 30px; }
        #submit-btn:hover { background-color: #43a047; }
        #submit-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #1b5e20; }
    </style>
</head>
<body>

    <h2>ğŸš¢ å¤§èˆªæµ·æ™‚ä»£ï¼šå°ç£è½‰å£è²¿æ˜“æŒ‘æˆ°</h2>
    <div id="timer">å‰©é¤˜æ™‚é–“ï¼š02:00</div>

    <div class="game-board">
        <div class="region-card">
            <div class="region-title">ğŸ‡¨ğŸ‡³ ä¸­åœ‹èˆªç·š</div>
            <div class="label">å°ç£è¼¸å‡ºè‡³ä¸­åœ‹ (2é …)</div>
            <div class="drop-zone" id="tw-to-cn"></div>
            <div class="label">å¾ä¸­åœ‹è¼¸å…¥å°ç£ (3é …)</div>
            <div class="drop-zone" id="cn-to-tw"></div>
        </div>

        <div class="region-card">
            <div class="region-title">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èˆªç·š</div>
            <div class="label">å°ç£è¼¸å‡ºè‡³æ—¥æœ¬ (2é …)</div>
            <div class="drop-zone" id="tw-to-jp"></div>
            <div class="label">å¾æ—¥æœ¬è¼¸å…¥å°ç£ (2é …)</div>
            <div class="drop-zone" id="jp-to-tw"></div>
        </div>

        <div class="region-card">
            <div class="region-title">ğŸŒ´ æ±å—äºèˆªç·š</div>
            <div class="label">å°ç£è¼¸å‡ºè‡³æ±å—äº (3é …)</div>
            <div class="drop-zone" id="tw-to-sea"></div>
            <div class="label">å¾æ±å—äºè¼¸å…¥å°ç£ (3é …)</div>
            <div class="drop-zone" id="sea-to-tw"></div>
        </div>
    </div>

    <div class="items-pool" id="items-pool"></div>
    <button id="submit-btn" onclick="checkAnswers()">æäº¤ç­”æ¡ˆ</button>

    <script>
        const correctAnswers = {
            "tw-to-cn": ["é¦™æ–™", "éŠ€"], "cn-to-tw": ["ç“·å™¨", "çµ²ç¶¢", "è—¥æ"],
            "tw-to-sea": ["è”—ç³–", "ç“·å™¨", "çµ²ç¶¢"], "sea-to-tw": ["è»éœ€å“", "é¦™æ–™", "å¸ƒåŒ¹"],
            "tw-to-jp": ["è”—ç³–", "é¹¿çš®"], "jp-to-tw": ["éŠ€", "è»éœ€å“"]
        };
        const allItems = ["é¦™æ–™", "éŠ€", "ç“·å™¨", "çµ²ç¶¢", "è—¥æ", "è”—ç³–", "ç“·å™¨", "çµ²ç¶¢", "è»éœ€å“", "é¦™æ–™", "å¸ƒåŒ¹", "è”—ç³–", "é¹¿çš®", "éŠ€", "è»éœ€å“"];

        function initGame() {
            const pool = document.getElementById('items-pool');
            // æ‰“äº‚é †åºä¸¦ç”Ÿæˆç‰©å“
            allItems.sort(() => Math.random() - 0.5).forEach((name, i) => {
                const div = document.createElement('div');
                div.className = 'item';
                div.innerText = name;
                div.draggable = true;
                div.id = 'drag-item-' + i;
                div.addEventListener('dragstart', (e) => e.dataTransfer.setData("text", e.target.id));
                pool.appendChild(div);
            });

            // è¨­å®šæ‰€æœ‰æ”¾ç½®å€
            const zones = document.querySelectorAll('.drop-zone, #items-pool');
            zones.forEach(zone => {
                zone.addEventListener('dragover', (e) => e.preventDefault());
                zone.addEventListener('dragenter', (e) => zone.classList.add('drag-over'));
                zone.addEventListener('dragleave', (e) => zone.classList.remove('drag-over'));
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('drag-over');
                    const id = e.dataTransfer.getData("text");
                    const draggedElement = document.getElementById(id);
                    zone.appendChild(draggedElement);
                });
            });
            startTimer();
        }

        function startTimer() {
            let time = 120;
            const timerObj = setInterval(() => {
                time--;
                let m = Math.floor(time/60);
                let s = (time%60).toString().padStart(2, '0');
                document.getElementById('timer').innerText = `å‰©é¤˜æ™‚é–“ï¼š0${m}:${s}`;
                if(time <= 0) { clearInterval(timerObj); alert("æ™‚é–“åˆ°ï¼æŒ‘æˆ°å¤±æ•—ã€‚"); location.reload(); }
            }, 1000);
        }

        function checkAnswers() {
            let isWin = true;
            for (let id in correctAnswers) {
                const current = Array.from(document.getElementById(id).children).map(el => el.innerText).sort();
                const target = [...correctAnswers[id]].sort();
                if (current.join(',') !== target.join(',')) { isWin = false; break; }
            }
            if(isWin) alert("ğŸ‰ å¤ªæ£’äº†ï¼ä½ å®Œç¾é”æˆäº†å¤§èˆªæµ·æ™‚ä»£çš„è²¿æ˜“ä»»å‹™ï¼");
            else alert("âŒ å…§å®¹ä¼¼ä¹æœ‰äº›éŒ¯èª¤ï¼Œè«‹æª¢æŸ¥ç‰©å“æ˜¯å¦æ”¾åœ¨æ­£ç¢ºçš„èˆªç·šèˆ‡æ–¹å‘å–”ï¼");
        }

        window.onload = initGame;
    </script>
</body>
</html>